{"version":3,"file":"app.js","sourceRoot":"","sources":["../app.ts"],"names":[],"mappings":"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","sourcesContent":["import express from 'express';\r\nimport { Request, Response, Application } from 'express';\r\nimport { Puppy } from './models/puppy';\r\n\r\nconst bodyParser = require('body-parser')\r\nconst cors = require('cors');\r\n\r\n const PUPPIES : Puppy[] =[\r\n  {id: 123 , breed: 'husky', name:'Snow Man', birthDate:'21.09.1986', img:'https://loremflickr.com/320/240/husky_puppy'},\r\n  {id: 124 , breed: 'sarabi', name:'SAG', birthDate:'21.09.1983', img:'https://loremflickr.com/320/240/puppy'},\r\n  {id: 125 , breed: 'golden retriever', name:'Goldi', birthDate:'21.09.1983', img:'https://loremflickr.com/320/240/goldenretriever'},\r\n  {id: 126 , breed: 'french bulldog', name:'Martin', birthDate:'21.09.1983', img:'https://loremflickr.com/320/240/bull_dog_puppy'},\r\n  {id: 127 , breed: 'beagle', name:'Peggy', birthDate:'21.09.1983', img:'https://loremflickr.com/320/240/beagle_dog'},\r\n  {id: 128 , breed: 'poodle', name:'Teddy', birthDate:'21.09.1983', img:'https://loremflickr.com/320/240/poodle_puppy'},\r\n  {id: 129 , breed: 'golden retriever', name:'Goli', birthDate:'21.09.1983', img:'https://loremflickr.com/320/240/golden_retriever'},\r\n  {id: 130 , breed: 'german shepherd', name:'Rex', birthDate:'21.09.1983', img:'https://loremflickr.com/320/240/germanshepherd'},\r\n  {id: 131 , breed: 'afghan hound', name:'Nikol', birthDate:'21.09.1983', img:'https://loremflickr.com/320/240/afghanhound'},\r\n  {id: 132 , breed: 'german shepherd', name:'Nina', birthDate:'21.09.1983', img:'https://loremflickr.com/320/240/frenchbulldog'},\r\n ];\r\n\r\nconst app: Application = express();\r\napp.use(bodyParser.json())\r\napp.use(bodyParser.urlencoded({ extended: false }))\r\n\r\napp.use(cors({\r\n  origin: 'http://localhost:3000',\r\n  methods: ['GET','POST','DELETE','UPDATE','PUT','PATCH'],\r\n  allowedHeaders: ['Content-Type',],\r\n}));\r\n\r\napp.get('/api/puppies',cors(), (_req: Request, res: Response) => {\r\n  return res\r\n  .status(200)\r\n  .json({ puppies: PUPPIES });\r\n});\r\n\r\napp.get('/api/puppies/:id',cors(), (_req: Request, res: Response) => {\r\n  const puppyId = +((_req.params as {id:string}).id)\r\n  const puppyIndex = PUPPIES.findIndex(puppy => puppy.id === puppyId) \r\n  if(puppyIndex === -1){\r\n    throw new Error ('puppy missing')\r\n  }\r\n  const puppyInfo = PUPPIES[puppyIndex]\r\n  return res.status(200).json({puppy : puppyInfo})\r\n});\r\n\r\napp.post('/api/puppies',cors(), (_req: Request, res: Response) => {\r\n  const {name,breed,birthDate, img} = _req.body;\r\n  const newPuppy = new Puppy (Date.now(), breed, name, birthDate, img);\r\n  PUPPIES.push(newPuppy);\r\n  return res.status(201).json({message: 'new puppy added' , puppies: PUPPIES})\r\n});\r\n\r\napp.put('/api/puppies/:id',cors(), (_req: Request, res: Response) => {\r\n\r\n  const puppyId = +((_req.params as {id: string}).id);\r\n  const updatedName = (_req.body as { name: string }).name;\r\n    const updatedBreed = (_req.body as { breed: string }).breed;\r\n    const updatedBd = (_req.body as { birthDate: string }).birthDate;\r\n    const img = (_req.body as { img: string }).img;\r\n\r\n\r\n  const puppyIndex = PUPPIES.findIndex(puppy=> puppy.id === puppyId);\r\n  if (puppyIndex === -1){\r\n    throw new Error ('puppy not found')\r\n  }\r\n  PUPPIES[puppyIndex] = new Puppy(puppyId, updatedBreed, updatedName,updatedBd, img);\r\n\r\n  res.status(200).json({message: ' updated' , updatePuppy: PUPPIES[puppyIndex]})\r\n});\r\n\r\n\r\napp.delete('/api/puppies/:id',cors(), (_req: Request, res: Response) => {\r\n\r\n  const puppyId = +((_req.params as {id: string}).id);\r\n\r\n  const puppyIndex = PUPPIES.findIndex(puppy=> puppy.id === puppyId);\r\n  if (puppyIndex === -1){\r\n    throw new Error ('puppy not found')\r\n  }\r\n PUPPIES.splice(puppyIndex, 1)\r\n\r\n  res.status(200).json({message: ' puppy deleted'})\r\n});\r\n\r\nexport default app;"]}